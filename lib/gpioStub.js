'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.open = open;
exports.write = write;
exports.read = read;
exports.close = close;
var log = require('./log')('gpioStub');

var pins = [];

for (var i = 0; i <= 40; i++) {
  pins[i] = {
    direction: 'in',
    value: 0
  };
}

function open(pin, direction, callback) {
  log.debug({ method: 'open', pin: pin, direction: direction }, 'open');
  process.nextTick(callback);
}

function write(pin, value, callback) {
  log.debug({ method: 'write', pin: pin, value: value }, 'write');
  pins[pin].value = value;
  process.nextTick(callback);
}

function read(pin, callback) {
  log.debug({ method: 'read', pin: pin }, 'read');
  process.nextTick(function () {
    return callback(null, pins[pin].value);
  });
}

function close(pin, callback) {
  log.debug({ method: 'close', pin: pin }, 'close');
  process.nextTick(callback);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9ncGlvU3R1Yi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztRQVdnQixJQUFJLEdBQUosSUFBSTtRQUtKLEtBQUssR0FBTCxLQUFLO1FBTUwsSUFBSSxHQUFKLElBQUk7UUFLSixLQUFLLEdBQUwsS0FBSztBQTNCckIsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDOztBQUV2QyxJQUFJLElBQUksR0FBRyxFQUFFLENBQUM7O0FBRWQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUM1QixNQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUc7QUFDUixhQUFTLEVBQUUsSUFBSTtBQUNmLFNBQUssRUFBRSxDQUFDO0dBQ1QsQ0FBQztDQUNIOztBQUVNLFNBQVMsSUFBSSxDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFO0FBQzdDLEtBQUcsQ0FBQyxLQUFLLENBQUMsRUFBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBSCxHQUFHLEVBQUUsU0FBUyxFQUFULFNBQVMsRUFBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ3BELFNBQU8sQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7Q0FDNUI7O0FBRU0sU0FBUyxLQUFLLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUU7QUFDMUMsS0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFILEdBQUcsRUFBRSxLQUFLLEVBQUwsS0FBSyxFQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDbEQsTUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDeEIsU0FBTyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztDQUM1Qjs7QUFFTSxTQUFTLElBQUksQ0FBQyxHQUFHLEVBQUUsUUFBUSxFQUFFO0FBQ2xDLEtBQUcsQ0FBQyxLQUFLLENBQUMsRUFBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBSCxHQUFHLEVBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUN6QyxTQUFPLENBQUMsUUFBUSxDQUFDO1dBQU0sUUFBUSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDO0dBQUEsQ0FBQyxDQUFDO0NBQ3pEOztBQUVNLFNBQVMsS0FBSyxDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUU7QUFDbkMsS0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFILEdBQUcsRUFBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQzNDLFNBQU8sQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7Q0FDNUIiLCJmaWxlIjoibGliL2dwaW9TdHViLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IGxvZyA9IHJlcXVpcmUoJy4vbG9nJykoJ2dwaW9TdHViJyk7XG5cbmxldCBwaW5zID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDw9IDQwOyBpKyspIHtcbiAgcGluc1tpXSA9IHtcbiAgICBkaXJlY3Rpb246ICdpbicsXG4gICAgdmFsdWU6IDBcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9wZW4ocGluLCBkaXJlY3Rpb24sIGNhbGxiYWNrKSB7XG4gIGxvZy5kZWJ1Zyh7bWV0aG9kOiAnb3BlbicsIHBpbiwgZGlyZWN0aW9ufSwgJ29wZW4nKTtcbiAgcHJvY2Vzcy5uZXh0VGljayhjYWxsYmFjayk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZShwaW4sIHZhbHVlLCBjYWxsYmFjaykge1xuICBsb2cuZGVidWcoe21ldGhvZDogJ3dyaXRlJywgcGluLCB2YWx1ZX0sICd3cml0ZScpO1xuICBwaW5zW3Bpbl0udmFsdWUgPSB2YWx1ZTtcbiAgcHJvY2Vzcy5uZXh0VGljayhjYWxsYmFjayk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWFkKHBpbiwgY2FsbGJhY2spIHtcbiAgbG9nLmRlYnVnKHttZXRob2Q6ICdyZWFkJywgcGlufSwgJ3JlYWQnKTtcbiAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiBjYWxsYmFjayhudWxsLCBwaW5zW3Bpbl0udmFsdWUpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlKHBpbiwgY2FsbGJhY2spIHtcbiAgbG9nLmRlYnVnKHttZXRob2Q6ICdjbG9zZScsIHBpbn0sICdjbG9zZScpO1xuICBwcm9jZXNzLm5leHRUaWNrKGNhbGxiYWNrKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==